# 谜题说明

## 谜面

玩家在一个三阶魔方的某个小面上；他需要经过旋转魔方和移动位置，到达目标地点的小面。可参考[Simulator](./simulator)中的模拟程序。

```
[simulator]$ cargo r
```

魔方的旋转规则与一般三阶魔方无异。

**移动**是指玩家在魔方的 54 个小面之间互相移动的操作。两个小面之间可以进行移动的条件是：

- 两个小面在同一个大面上，且
- 两个小面是上、下、左、右相邻的，且
  - 两个小面上的颜色相同，或
  - 两个小面上的数字相同。

## 题解

因为起点和终点所在面的颜色不同，所以至少需要用到一次“相同数字”的规则来实现跨颜色的移动。

将魔方的 54 个面分为两类：

- 角面和中心面，记为 I 类，分布于每个大面的四角和中心，共 $5\times6=30$ 个；
- 边面，记为 II 类，分布于每个大面的边缘处，不位于四角，共 $4\times6=24$ 个。

不难发现：**I 类面只能与 II 类面相邻；反之亦然。**

因此要实现一步跨颜色的移动，必须要找到两个相同数字，一个在 I 类面上，一个在 II 类面上。

那么对魔方所有面上的数字进行统计，发现

|颜色|I 类面|II 类面|
|---|---|---|
|红|0 <u>1</u> 8 9 12|2 5 11 12|
|白|0 4 8 9 <u>16</u>|<u>1</u> 2 5 11|
|绿|0 4 <u>7</u> 13 14|2 5 11 <u>16</u>|
|蓝|0 <u>3</u> 4 13 14|<u>7</u> 10 11 15|
|黄|0 4 <u>6</u> 13 14|<u>3</u> 10 15 17|
|橙|0 4 8 9 13|<u>6</u> 10 15 17|

因此无论怎么规划路线，必定经过的几步移动都是：

- 从红 0 出发先移动到红 1；
- 借助数字 1 从红面移动至白面；
- 借助数字 16 从白面移动至绿面；
- 借助数字 7 从绿面移动至蓝面；
- 借助数字 3 从蓝面移动至黄面；
- 借助数字 6 从黄面移动至橙面；
- 最后移动到橙 0。
